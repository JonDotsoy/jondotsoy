Con este artículo quiero que desde ahora el crear runbook sea una habilidad natural para ti, ya sea que seas parte del equipo de QA, Dev, DevOps, análisis de datos, etc. La creación de runbook debería ser una práctica natural y recurrente para ti, y no solo una tarea en el tablero que deba ser solicitada por alguien más. ¿Y por qué? Simple, este documento permite reproducir una actividad una cantidad indeterminada de veces. Ahora bien, ¿es necesario? Por lo general ignoramos su importancia ya que dentro de un equipo muchos tienen tanto contexto que es fácil reproducir una actividad en el proyecto, y esto está genial :D. Enhorabuena, tienes el nivel suficiente para ser parte del equipo. Pero ¿qué pasa si cambias de equipo o tienes que mantener código legado? Bueno, la historia es distinta. Tener que analizar código es parte fundamental, entender las reglas de negocio es imperativo y requiere horas y horas de reuniones. Reitero, el problema no es si ya estás ahí en ese equipo, el problema es si tienes que ir a uno donde no existe mayor contexto. --¿Y la IA? Con ella puedo generar una consulta y él analizará todo el código por mí?--- Cierto, y en efecto, la IA puede analizar todo el código y describir casi con una precisión muy alta, pero como dice este artículo "How Does Naming Affect Language Models on Code Analysis Tasks?" (https://www.scirp.org/journal/paperinformation?paperid=137296) puede haber ocasiones en que no será suficiente ya que el mismo acto de tener código poco descriptivo puede perjudicar enormemente el análisis que hace la IA sobre tu código. Y aquí volvemos a hablar sobre los Runbook. Esta pieza de documentación es crucial para reproducir una actividad en el proyecto y seré claro: esto no es un test unitario o un test de integración, ¡No! Este documento no intenta reemplazarlo y te lo explico para que lo entiendas. Un test unitario prueba una parte clave y precisa de tu código con un entorno controlado y no conectado a nada. Uno de integración es más complejo, puede que incluso levante bases de datos para hacer las pruebas, pero siempre se hacen en un entorno controlado y acotado a una parte específica del proyecto. Un runbook hace algo más allá: prueba una parte del producto específica y en un ambiente específico. Podemos tener runbooks para el ambiente local, quizás levantando los artefactos con docker compose o un ambiente de desarrollo o staging donde ya tenemos en la infraestructura los productos montados. ¿Y qué probamos? Podemos probar de todo, desde llamadas a APIs hasta UIs como carrito de compras o componentes específicos. Ya entendiendo esto, avancemos. ¿Qué es un runbook? Simple, un documento que prueba un artefacto y esto puede ser todo lo que quieras: una UI para realizar el carro de compra de una tienda, una API para conocer información de un usuario, hasta una cola que tras recibir un evento dispara funciones en otros artefactos de nuestra infraestructura. Independientemente de lo que pruebes, lo importante es documentar los requerimientos para preparar el entorno. Después de todo debemos reproducir el runbook en condiciones ya que el mínimo dato incorrecto puede romper toda la reproducción del runbook. Luego, obviamente los pasos, paso a paso que debes hacer. Aquí hay que ser específicos, muy específicos, desde conectarse a una DB, llamar una API, etc. Todo lo que tengas que hacer. Por ejemplo, un runbook para lavar la loza: si lo piensas bien, lavar la loza no es complicado, lo hacemos todos los días, pero el mero acto requiere un montón de pasos clave, desde ponerse el delantal para no mojarnos, hasta usar jabón para la esponja. Veamos los pasos que yo escribiría: 1. tomar el delantal (asumamos todos los pasos del cómo tomarse el delantal), 2. echar jabón a la esponja, 3. encender el agua, 4. tomar el plato, tomaremos el plato más cercano, 5. retirar la basura del plato, .... 10. guardar el plato seco. Ahora bien, es muy importante que el runbook tenga los requerimientos que deben estar muy detallados. En este caso, para el ejemplo de lavar los platos, el requerimiento inicial es tener platos sucios. Aquí el objetivo inicial es describir el escenario, no es lo mismo platos sucios con espagueti que con sopa. Y bueno, ahora nos falta el último paso en nuestro runbook: la validación. Aquí vamos a responder el cómo validar que lo que hicimos está bien, describimos que debemos observar y considerar como OK. En el ejemplo de lavar los platos sería algo como tener el plato limpio sin jabón y sin suciedad. Pero todo esto suena laborioso, yo creo que sí. Lo que vamos a hacer es automatizarlo con IA. Bueno, este artículo busca hacer eso, ayudarte a automatizar rápidamente esta actividad. Para eso te pediré que tengas Claude, Copilot, Kiro o cualquier otro IDE con agente o agente de IA que más te guste. Ahora, siguiente paso: vamos a aprovechar los skills. Esta es una nueva herramienta propuesta por Vercel para gestionar rápidamente "habilidades", pero esto ya existía hace mucho, solo que cada agente usa un nombre distinto. VSCode le llama "instrucciones" o "prompts", Kiro los llama "steering". De cualquier manera, es una herramienta útil que reutilizaremos en nuestros entornos. Lo usaremos en https://skills.sh/jondotsoy/skills/runbook-generator y https://skills.sh/jondotsoy/skills/runbook-executor. runbook-generator te ayudará a generar un runbook en tu directorio de trabajo. Nosotros solo debemos pedir al agente algo como "crea un runbook para lavar la loza, el runbook servirá para limpiar los platos cuando estos estén sucios con espagueti..." y en nuestro prompt detallar lo más posible que queremos reproducir. El skill generará el runbook, luego que lo cree nosotros podemos editarlo hasta que quede como nos guste. Y bueno, runbook-executor nos ayudará a generar evidencia de las ejecuciones pasadas, porque después de todo, ¿qué sería de un runbook sin evidencia de que el runbook funcione? Esto nos ayudará sobre todo a demostrar con nuestro equipo que logramos validar rápidamente que en algún momento funcionó. Esto también nos ayuda a entender el estado del arte de nuestro proyecto. Pero cuidado, hay un tema importante que no debo dejar pasar: estos skills NO TRABAJAN SOLOS, no es que le pidamos al agente algo como "ejecuta el runbook login" y ya. La realidad es que estos skills solo ayudan a generar documentación más completa. Ahora bien, esto no excluye la posibilidad de que tus habilidades te permitan ejecutar el runbook con tu agente de tal manera que sean tan claros los procesos para ejecutar todos los pasos de manera autónoma. Sin embargo, creo que eso lo puedes hacer creando un skill a tu medida o modificando estos según sea el proyecto. Conclusión: esto nos ayuda enormemente para mejorar la evidencia de nuestro trabajo y de que nuestro sistema funciona, bueno, por lo menos hasta cierto momento de la historia.
